<!--:
var action = "system/user/list";
var searchContent = {
-->
<select name="attr.type" title="">
    <option value="">--类型--</option>
    <option value="1" ${attr.type==1?'selected'}>管理员</option>
    <option value="2" ${attr.type==2?'selected'}>普通用户</option>
    <option value="3" ${attr.type==3?'selected'}>前台用户</option>
    <option value="4" ${attr.type==4?'selected'}>第三方用户</option>
</select>
<select name="attr.departmentId" title="">
    <option value="">--请选择部门--</option>
</select>
<input type="text" name="attr.username" value="${attr.username}" placeholder="请输入登陆名"/>
<!--:
};
var panelBar = {
-->
<ul class="toolBar">
    <li>
        <a class="edit" href="system/user/view/{did}" target="dialog" rel="user-view" width="820" height="440">
            <span>查看</span>
        </a>
    </li>
    <#haspermission name="system/user/list:*">
        <li class="line"></li>
        <li>
            <a class="add" href="system/user/edit" target="dialog" rel="user-add" width="820" height="440">
                <span>添加</span>
            </a>
        </li>
        <li class="line"></li>
        <li>
            <a class="edit" href="system/user/edit/{did}" target="dialog" rel="user-edit" width="820" height="440">
                <span>修改</span>
            </a>
        </li>
        <li class="line"></li>
        <li>
            <a class="edit" href="system/user/editAuth/{did}" target="dialog" rel="user-auth" width="820" height="440">
                <span>授权</span>
            </a>
        </li>
        <li class="line"></li>
        <li>
            <a class="edit" href="system/user/resetPassword/{did}" target="ajaxTodo" title="确定要重置密码吗?">
                <span>重置密码</span>
            </a>
        </li>
        <li class="line"></li>
        <li>
            <a class="delete" href="system/user/delete/{did}" target="ajaxTodo" title="确定要删除吗?">
                <span>删除</span>
            </a>
        </li>
    </#haspermission>
</ul>
<!--:
};
var table = {
-->
<thead>
<tr>
    <th>序号</th>
    <th orderfield="department_id" class="${haitai.orderClass('department_id', orderField!, orderDirection!)}">部门</th>
    <th orderfield="username" class="${haitai.orderClass('username', orderField!, orderDirection!)}">登陆名</th>
    <th orderfield="realname" class="${haitai.orderClass('realname', orderField!, orderDirection!)}">真实姓名</th>
    <th orderfield="type" class="${haitai.orderClass('type', orderField!, orderDirection!)}">类型</th>
    <th orderfield="email" class="${haitai.orderClass('email', orderField!, orderDirection!)}">Email</th>
    <th orderfield="tel" class="${haitai.orderClass('tel', orderField!, orderDirection!)}">手机号</th>
    <th orderfield="create_time" class="${haitai.orderClass('create_time', orderField!, orderDirection!)}">创建时间</th>
</tr>
</thead>
<tbody>
<!--:for (item in page.list) {-->
<tr target="did" rel="${item.id}">
    <td>${itemLP.index}</td>
    <td></td>
    <td>${item.username}</td>
    <td>${item.realname}</td>
    <td>
        <!--:
        select(item.type) {
            case 1:
                print('管理员');
            case 2:
                print('普通用户');
            case 3:
                print('前台用户');
            case 4:
                print('第三方用户');
            default:
                print('其他用户');
        }
        -->
    </td>
    <td>${item.email}</td>
    <td>${item.tel}</td>
    <td>${item.createTime}</td>
</tr>
<!--:}-->
</tbody>
<!--:
};
layout("/template/navTabPage.html",
        {action : action,
         searchContent : searchContent,
         panelBar : panelBar,
         table : table}) {}
-->